<h2>ðŸ“Š Business Overview Dashboard</h2>

<!-- ðŸ“† Date Range Filter -->
<div style="margin-bottom:20px; display:flex; gap:10px; flex-wrap:wrap;">
  <input type="date" [(ngModel)]="filterFromDate" (change)="applyDateFilter()" />
  <input type="date" [(ngModel)]="filterToDate" (change)="applyDateFilter()" />
  <button (click)="applyDateFilter()">Apply Filter</button>
</div>

<!-- ðŸ§¾ Metrics -->
<div style="display:flex;flex-wrap:wrap;gap:16px;margin-bottom:24px;">
  <div class="metric"><h4>Total Products</h4><p>{{ totalProducts }}</p></div>
  <div class="metric"><h4>Total Stock</h4><p>{{ totalStock }}</p></div>
  <div class="metric"><h4>Out of Stock</h4><p>{{ outOfStock }}</p></div>
  <div class="metric"><h4>Low Stock (&lt;= Min Stock)</h4><p>{{ lowStock }}</p></div>
  <div class="metric"><h4>Fast Moving</h4><p>{{ fastMoving }}</p></div>
  <div class="metric"><h4>Dead Stock (&gt;90 days)</h4><p>{{ deadStock }}</p></div>
<div class="metric" style="background-color:#e3f2fd;">
    <h4>Total Sales</h4>
    <p>â‚¹{{ totalSalesAmount | number }}</p>
  </div>
  <div class="metric" style="background-color:#fff3e0;">
    <h4>Total Profit</h4>
    <p>â‚¹{{ totalProfit | number }}</p>
  </div>
  <div class="metric" style="background-color:#f0f8ff;">
    <h4>Total Purchase Orders</h4>
    <p>{{ totalPurchaseCount }}</p>
  </div>
  <div class="metric" style="background-color:#e8f5e9;">
    <h4>Total Purchase Value</h4>
    <p>â‚¹{{ totalPurchaseValue | number }}</p>
  </div>
  <div class="metric" style="background-color:#f1f8e9;">
    <h4>Total Purchase Received Value</h4>
    <p>â‚¹{{ totalPurchaseReceivedValue | number }}</p>
  </div>

  
</div>

<!-- ðŸ“Š Charts -->
<div style="display:flex;flex-wrap:wrap;gap:40px;">
  <div style="flex:1;min-width:350px;">
    <h3>ðŸ§¾ Stock Status</h3>
    <p-chart type="pie" [data]="stockPieData" [options]="chartOptions"></p-chart>
  </div>
  <div style="flex:2;min-width:400px;">
    <h3>ðŸ“¦ Category-wise Products & Stock</h3>
    <p-chart type="bar" [data]="categoryBarData" [options]="chartOptions"></p-chart>
  </div>
</div>

<div style="margin-top:40px;">
  <h3>ðŸ’° Monthly Sales & Profit</h3>
  <p-chart type="bar" [data]="monthlySalesData" [options]="chartOptions"></p-chart>
</div>

<style>
.metric {
  border: 1px solid #ddd;
  padding: 12px;
  border-radius: 6px;
  min-width: 160px;
  background: #fff;
}
.metric h4 {
  margin: 0 0 5px;
  font-size: 14px;
}
.metric p {
  margin: 0;
  font-size: 18px;
  font-weight: bold;
}
</style>
