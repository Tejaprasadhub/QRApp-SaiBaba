<p-card class="categories-card">
  <h2>Categories</h2>

  <!-- Add Category -->
  <form (ngSubmit)="add()" class="add-category-form">
    <input
      [(ngModel)]="newCat.name"
      name="name"
      placeholder="Category name"
      required
    />
    <button type="submit" [disabled]="loading">
      {{ loading ? 'Adding...' : 'Add' }}
    </button>
  </form>

  <!-- Category List -->
  <ul class="category-list">
    <li *ngFor="let c of categories">
      <!-- If editing this category -->
      <div *ngIf="editCat?.id === c.id; else viewMode" class="edit-mode">
        <input [(ngModel)]="editCat.name" name="editName" />
        <button (click)="saveEdit()">ğŸ’¾ Save</button>
        <button (click)="cancelEdit()">âœ– Cancel</button>
      </div>

      <!-- Normal view -->
      <ng-template #viewMode>
        <div class="category-item">
          <span>{{ c.name }}</span>
          <div class="action-buttons">
            <button (click)="startEdit(c)">âœï¸ Edit</button>
            <button (click)="remove(c.id)" class="delete-btn">ğŸ—‘ Delete</button>
          </div>
        </div>
      </ng-template>
    </li>
  </ul>

  <!-- Empty state -->
  <p *ngIf="!categories.length" class="empty-state">No categories found.</p>
</p-card>
