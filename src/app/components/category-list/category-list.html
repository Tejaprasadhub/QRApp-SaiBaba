<h2>Categories</h2>

<!-- Add Category -->
<form (ngSubmit)="add()" style="margin-bottom:15px;">
  <input
    [(ngModel)]="newCat.name"
    name="name"
    placeholder="Category name"
    required
  />
  <button type="submit" [disabled]="loading">
    {{ loading ? 'Adding...' : 'Add' }}
  </button>
</form>

<!-- Category List -->
<ul>
  <li *ngFor="let c of categories">
    <!-- If editing this category -->
    <div *ngIf="editCat?.id === c.id; else viewMode">
      <input [(ngModel)]="editCat.name" name="editName" />
      <button (click)="saveEdit()">ğŸ’¾ Save</button>
      <button (click)="cancelEdit()">âœ– Cancel</button>
    </div>

    <!-- Normal view -->
    <ng-template #viewMode>
      {{ c.name }}
      <button (click)="startEdit(c)">âœï¸ Edit</button>
      <button (click)="remove(c.id)" style="color:red;">ğŸ—‘ Delete</button>
    </ng-template>
  </li>
</ul>

<!-- Empty state -->
<p *ngIf="!categories.length" style="color:gray;">No categories found.</p>
